{"ast":null,"code":"import _defineProperty from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/admin/Documentos/Projetos/ReactLaravel/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/admin/Documentos/Projetos/ReactLaravel/app/src/pages/cargo/form.js\";\nimport React, { Component } from 'react';\nimport CargoServices from './services';\nimport InputCustom from './../../components/InputCustom';\n\nvar FormCargo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormCargo, _Component);\n\n  function FormCargo() {\n    var _this;\n\n    _classCallCheck(this, FormCargo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormCargo).call(this));\n    _this.state = {\n      lista: [],\n      nome: ''\n    };\n    _this.services = new CargoServices();\n    alert(_this.props.match.params.id);\n    return _this;\n  }\n\n  _createClass(FormCargo, [{\n    key: \"listaDados\",\n    value: function () {\n      var _listaDados = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.t0 = this;\n                _context.next = 3;\n                return this.services.findAll();\n\n              case 3:\n                _context.t1 = _context.sent;\n                _context.t2 = {\n                  lista: _context.t1\n                };\n\n                _context.t0.setState.call(_context.t0, _context.t2);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function listaDados() {\n        return _listaDados.apply(this, arguments);\n      }\n\n      return listaDados;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.listaDados();\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {}\n  }, {\n    key: \"salvaForm\",\n    value: function () {\n      var _salvaForm = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(evento) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                evento.preventDefault();\n\n                if (!this.validate()) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                _context2.next = 4;\n                return this.services.create({\n                  nome: this.state.nome\n                });\n\n              case 4:\n                _context2.next = 6;\n                return this.listaDados();\n\n              case 6:\n                this.clearForm();\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function salvaForm(_x) {\n        return _salvaForm.apply(this, arguments);\n      }\n\n      return salvaForm;\n    }()\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      if (this.state.nome === '') {\n        alert(\"é obrigatório um nome\");\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var isChecked = e.target.type === \"checkbox\";\n      this.setState(_defineProperty({}, e.target.name, isChecked ? e.target.checked : e.target.value));\n    }\n  }, {\n    key: \"clearForm\",\n    value: function clearForm() {\n      this.setState({\n        nome: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"cargo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"buttom\", {\n        className: \"btn btn-success\",\n        onClick: this.teste,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Adicionar\"), React.createElement(\"form\", {\n        onSubmit: this.salvaForm.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(InputCustom, {\n        type: \"text\",\n        id: \"nome\",\n        label: \"Nome\",\n        value: this.state.nome,\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Salvar\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return FormCargo;\n}(Component);\n\nexport default FormCargo;","map":{"version":3,"sources":["/home/admin/Documentos/Projetos/ReactLaravel/app/src/pages/cargo/form.js"],"names":["React","Component","CargoServices","InputCustom","FormCargo","state","lista","nome","services","alert","props","match","params","id","findAll","setState","listaDados","evento","preventDefault","validate","create","clearForm","e","isChecked","target","type","name","checked","value","teste","salvaForm","bind","handleChange"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,aAAP,MAA0B,YAA1B;AACA,OAAOC,WAAP,MAAwB,gCAAxB;;IAEMC,S;;;;;AAEF,uBAAa;AAAA;;AAAA;;AACT;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,IAAI,EAAE;AAFG,KAAb;AAIA,UAAKC,QAAL,GAAgB,IAAIN,aAAJ,EAAhB;AACAO,IAAAA,KAAK,CAAC,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzB,CAAL;AAPS;AAQZ;;;;;;;;;;;;8BAGG,I;;uBAA4B,KAAKL,QAAL,CAAcM,OAAd,E;;;;;AAAbR,kBAAAA,K;;;4BAAVS,Q;;;;;;;;;;;;;;;;;;wCAGU;AACf,WAAKC,UAAL;AAEH;;;yCACmB,CAAE;;;;;;iDAENC,M;;;;;AACZA,gBAAAA,MAAM,CAACC,cAAP;;qBACG,KAAKC,QAAL,E;;;;;;uBACO,KAAKX,QAAL,CAAcY,MAAd,CAAqB;AAACb,kBAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE;AAAlB,iBAArB,C;;;;uBACA,KAAKS,UAAL,E;;;AACN,qBAAKK,SAAL;;;;;;;;;;;;;;;;;;+BAIE;AACN,UAAG,KAAKhB,KAAL,CAAWE,IAAX,KAAoB,EAAvB,EAA0B;AACtBE,QAAAA,KAAK,CAAC,uBAAD,CAAL;AACA,eAAO,KAAP;AACH;;AACD,aAAO,IAAP;AACH;;;iCAEYa,C,EAAE;AACX,UAAMC,SAAS,GAAGD,CAAC,CAACE,MAAF,CAASC,IAAT,KAAkB,UAApC;AACA,WAAKV,QAAL,qBACKO,CAAC,CAACE,MAAF,CAASE,IADd,EACqBH,SAAS,GAAGD,CAAC,CAACE,MAAF,CAASG,OAAZ,GAAsBL,CAAC,CAACE,MAAF,CAASI,KAD7D;AAGH;;;gCAEU;AACP,WAAKb,QAAL,CAAc;AACVR,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH;;;6BAEO;AACJ,aACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAE,KAAKsB,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAM,QAAA,QAAQ,EAAE,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,WAAD;AAAa,QAAA,IAAI,EAAC,MAAlB;AAAyB,QAAA,EAAE,EAAC,MAA5B;AAAmC,QAAA,KAAK,EAAC,MAAzC;AAAgD,QAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWE,IAAlE;AAAwE,QAAA,QAAQ,EAAE,KAAKyB,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAGI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAoC,QAAA,SAAS,EAAC,iBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAHJ,CAFJ,CADJ;AAYH;;;;EAjEmB9B,S;;AAoExB,eAAeG,SAAf","sourcesContent":["import React, {Component} from 'react';\nimport CargoServices from './services';\nimport InputCustom from './../../components/InputCustom';\n\nclass FormCargo extends Component{\n\n    constructor(){\n        super();\n        this.state = {\n            lista: [],\n            nome: '',\n        };\n        this.services = new CargoServices();\n        alert(this.props.match.params.id);\n    }\n\n    async listaDados(){\n        this.setState({lista: await this.services.findAll()});\n    }\n\n    componentDidMount(){\n        this.listaDados();\n        \n    }\n    componentWillMount(){}\n\n    async salvaForm(evento){\n        evento.preventDefault();\n        if(this.validate()){\n            await this.services.create({nome: this.state.nome});\n            await this.listaDados();\n            this.clearForm();\n        }\n    }\n\n    validate(){\n        if(this.state.nome === ''){\n            alert(\"é obrigatório um nome\");\n            return false;\n        }\n        return true;\n    }\n\n    handleChange(e){\n        const isChecked = e.target.type === \"checkbox\";\n        this.setState({\n            [e.target.name]: isChecked ? e.target.checked : e.target.value\n        });\n    }\n\n    clearForm(){\n        this.setState({\n            nome: '',\n        });\n    }\n\n    render(){\n        return (\n            <div className=\"cargo\">\n                <buttom className=\"btn btn-success\" onClick={this.teste}>Adicionar</buttom>\n                <form onSubmit={this.salvaForm.bind(this)}>\n                    <InputCustom type=\"text\" id=\"nome\" label=\"Nome\" value={this.state.nome} onChange={this.handleChange.bind(this)} />\n                    \n                    <div className=\"form-control\">\n                        <input type=\"submit\" value=\"Salvar\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </div>\n        );\n    }\n\n}\nexport default FormCargo;\n\n"]},"metadata":{},"sourceType":"module"}